# Global configuration
name = "ez-westcor"
main = ".svelte-kit/cloudflare/_worker.js"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_compat"]
account_id = "002eeeed45cd3092f9850997d62be37b" # Your Cloudflare account ID

# Assets configuration for SvelteKit
[assets]
directory = ".svelte-kit/cloudflare"
binding = "ASSETS"
not_found_handling = "single-page-application"

# Default D1 Database binding for local development
[[d1_databases]]
binding = "DB"
database_name = "ez-westcor-db-local"
database_id = "local"

# Default R2 Bucket binding for local development (uses R2 simulator)
[[r2_buckets]]
binding = "BUCKET"
bucket_name = "ez-westcor-downloads-local"

# ========================================
# LOCAL DEVELOPMENT ENVIRONMENT
# ========================================
[env.local]
name = "ez-westcor-local"
[env.local.vars]
NODE_ENV = "local"

# ========================================
# REMOTE DEVELOPMENT ENVIRONMENT
# ========================================
[env.dev]
name = "ez-westcor-dev"
[env.dev.vars]
NODE_ENV = "dev"

# Development routes (uncomment when you have a domain)
# [[env.dev.routes]]
# pattern = "dev.your-domain.com"
# custom_domain = true

# Development D1 Database binding
[[env.dev.d1_databases]]
binding = "DB"
database_name = "ez-westcor-db-dev"
database_id = "38988e97-019c-48ee-a2aa-808ad055bd30"

# Development R2 Bucket binding
[[env.dev.r2_buckets]]
binding = "BUCKET"
bucket_name = "ez-westcor-downloads-dev"

# Development KV Namespace binding
# [[env.dev.kv_namespaces]]
# binding = "KV"
# id = "your-dev-kv-namespace-id"

# ========================================
# PRODUCTION ENVIRONMENT
# ========================================
[env.prod]
name = "ez-westcor"
[env.prod.vars]
NODE_ENV = "prod"

# Production routes (uncomment when you have a domain)
# [[env.prod.routes]]
# pattern = "your-domain.com"
# custom_domain = true

# Production D1 Database binding
[[env.prod.d1_databases]]
binding = "DB"
database_name = "ez-westcor-db-prod"
database_id = "df3a69b0-140d-496e-b658-47f67e7e9816"

# Production R2 Bucket binding
[[env.prod.r2_buckets]]
binding = "BUCKET"
bucket_name = "ez-westcor-downloads-prod"

# Production KV Namespace binding
# [[env.prod.kv_namespaces]]
# binding = "KV"
# id = "your-prod-kv-namespace-id"
